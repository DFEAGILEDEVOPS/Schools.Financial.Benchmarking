@section InsideHead{
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
          integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
          crossorigin="" />

    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
            integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
            crossorigin=""></script>

    <style>
        #mapid {
            width: 500px;
            height: 400px;
            border-width: 1px;
            border-color: black;
            border-style: solid;
        }
    </style>
}

<h3>Ark Academy, Forty Avenue, Wembley, HA9 9JR</h3>
<div id="mapid"></div>

@section ViewScripts{
    <script>

        var schoolPosition = [51.5655598764621, -0.280167460441589];

        var mymap = L.map('mapid').setView(schoolPosition, 13);

        L.tileLayer(`https://atlas.microsoft.com/map/tile/png?api-version=1&layer=basic&style=main&zoom={z}&x={x}&y={y}&subscription-key=@System.Web.Configuration.WebConfigurationManager.AppSettings["AzureMapsAPIKey"]`, {
            attribution: '© ' + new Date().getFullYear() + ' Microsoft, © 1992 - ' + new Date().getFullYear() + ' TomTom',
            maxZoom: 18,
            minZoom: 4,
            id: 'azuremaps.road',
            crossOrigin: true,
            subscriptionKey: '@System.Web.Configuration.WebConfigurationManager.AppSettings["AzureMapsAPIKey"]'
        }).addTo(mymap);

        var marker = L.marker(schoolPosition).addTo(mymap);
        marker.bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup();

    </script>
}

